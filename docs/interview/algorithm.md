# ç®—æ³•ç›¸å…³

[Helloç®—æ³•](https://www.hello-algo.com/)

## å†’æ³¡æ’åº

å†’æ³¡æ’åºï¼ˆbubble sortï¼‰é€šè¿‡è¿ç»­åœ°æ¯”è¾ƒä¸äº¤æ¢ç›¸é‚»å…ƒç´ å®ç°æ’åºã€‚

ä»æ•°ç»„æœ€å·¦ç«¯å¼€å§‹å‘å³éå†ï¼Œä¾æ¬¡æ¯”è¾ƒç›¸é‚»å…ƒç´ å¤§å°ï¼Œå¦‚æœ â€œå·¦å…ƒç´  > å³å…ƒç´ â€ å°±äº¤æ¢äºŒè€…ã€‚éå†å®Œæˆåï¼Œæœ€å¤§çš„å…ƒç´ ä¼šè¢«ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ç«¯ã€‚

ç®—æ³•æµç¨‹ï¼š

1. é¦–å…ˆï¼Œå¯¹ ğ‘› ä¸ªå…ƒç´ æ‰§è¡Œâ€œå†’æ³¡â€ï¼Œå°†æ•°ç»„çš„æœ€å¤§å…ƒç´ äº¤æ¢è‡³æ­£ç¡®ä½ç½®ã€‚
2. æ¥ä¸‹æ¥ï¼Œå¯¹å‰©ä½™ ğ‘› âˆ’ 1 ä¸ªå…ƒç´ æ‰§è¡Œâ€œå†’æ³¡â€ï¼Œå°†ç¬¬äºŒå¤§å…ƒç´ äº¤æ¢è‡³æ­£ç¡®ä½ç½®ã€‚
3. ä»¥æ­¤ç±»æ¨ï¼Œç»è¿‡ ğ‘› âˆ’ 1 è½®â€œå†’æ³¡â€åï¼Œå‰ ğ‘› âˆ’ 1 å¤§çš„å…ƒç´ éƒ½è¢«äº¤æ¢è‡³æ­£ç¡®ä½ç½®ã€‚
4. ä»…å‰©çš„ä¸€ä¸ªå…ƒç´ å¿…å®šæ˜¯æœ€å°å…ƒç´ ï¼Œæ— é¡»æ’åºï¼Œå› æ­¤æ•°ç»„æ’åºå®Œæˆã€‚

![Bubble Sort](./images/algorithm/bubble_sort.png)

ç®—æ³•ä¼˜åŒ–ï¼š

å¦‚æœæŸè½®â€œå†’æ³¡â€ä¸­æ²¡æœ‰æ‰§è¡Œä»»ä½•äº¤æ¢æ“ä½œï¼Œè¯´æ˜æ•°ç»„å·²ç»å®Œæˆæ’åºï¼Œå¯ç›´æ¥è¿”å›ç»“æœã€‚å› æ­¤ï¼Œå¯ä»¥å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ flag æ¥ç›‘æµ‹è¿™ç§æƒ…å†µï¼Œä¸€æ—¦å‡ºç°å°±ç«‹å³è¿”å›ã€‚

```js
function bubble(nums) {
  const len = nums.length;
  for (let i = len - 1;i > 0;i--) {
    let flag = false;
    for (let j = 0;j < i;j++) {
      if (nums[j] > nums[j+1]) {
        const temp = nums[j];
        nums[j] = nums[j+1];
        nums[j+1] = temp;
        flag = true;
      }
    }
    // æœ¬è½®å†’æ³¡æ²¡æœ‰äº¤æ¢å…ƒç´ ï¼Œç›´æ¥è·³å‡ºå¾ªç¯
    if (!flag) break;
  }
}
```

å†’æ³¡æ’åºçš„æœ€å·®æ—¶é—´å¤æ‚åº¦å’Œå¹³å‡æ—¶é—´å¤æ‚åº¦ä»ä¸º ğ‘‚(ğ‘›Â²) ï¼›ä½†å½“è¾“å…¥æ•°ç»„å®Œå…¨æœ‰åºæ—¶ï¼Œå¯è¾¾åˆ°æœ€ä½³æ—¶é—´å¤æ‚åº¦ ğ‘‚(ğ‘›) ã€‚

## å¿«é€Ÿæ’åº

å¿«é€Ÿæ’åºï¼ˆquick sortï¼‰æ˜¯ä¸€ç§åŸºäºåˆ†æ²»ç­–ç•¥çš„æ’åºç®—æ³•ã€‚

å¿«é€Ÿæ’åºçš„æ ¸å¿ƒæ“ä½œæ˜¯â€œå“¨å…µåˆ’åˆ†â€ï¼Œå…¶ç›®æ ‡æ˜¯ï¼šé€‰æ‹©æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ä½œä¸ºâ€œåŸºå‡†æ•°â€ï¼Œå°†æ‰€æœ‰å°äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åˆ°å…¶å·¦ä¾§ï¼Œè€Œå¤§äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åˆ°å…¶å³ä¾§ã€‚

1. é€‰å–æ•°ç»„æœ€å·¦ç«¯å…ƒç´ ä½œä¸ºåŸºå‡†æ•°ï¼Œåˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆ i å’Œ j åˆ†åˆ«æŒ‡å‘æ•°ç»„çš„ä¸¤ç«¯ã€‚
2. è®¾ç½®ä¸€ä¸ªå¾ªç¯ï¼Œåœ¨æ¯è½®ä¸­ä½¿ç”¨ iï¼ˆjï¼‰åˆ†åˆ«å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”åŸºå‡†æ•°å¤§ï¼ˆå°ï¼‰çš„å…ƒç´ ï¼Œç„¶åäº¤æ¢è¿™ä¸¤ä¸ªå…ƒç´ ã€‚
3. å¾ªç¯æ‰§è¡Œæ­¥éª¤ 2. ï¼Œç›´åˆ° i å’Œ j ç›¸é‡æ—¶åœæ­¢ï¼Œæœ€åå°†åŸºå‡†æ•°äº¤æ¢è‡³ä¸¤ä¸ªå­æ•°ç»„çš„åˆ†ç•Œçº¿ã€‚

å“¨å…µåˆ’åˆ†å®Œæˆåï¼ŒåŸæ•°ç»„è¢«åˆ’åˆ†æˆä¸‰éƒ¨åˆ†ï¼šå·¦å­æ•°ç»„ã€åŸºå‡†æ•°ã€å³å­æ•°ç»„ï¼Œä¸”æ»¡è¶³â€œå·¦å­æ•°ç»„ä»»æ„å…ƒç´  â‰¤ åŸºå‡†æ•° â‰¤ å³å­æ•°ç»„ä»»æ„å…ƒç´ â€ã€‚æ¥ç€ç»§ç»­å¯¹å­æ•°ç»„è¿›è¡Œæ’åºå³å¯ã€‚

ç®—æ³•æµç¨‹ï¼š

1. é¦–å…ˆï¼Œå¯¹åŸæ•°ç»„æ‰§è¡Œä¸€æ¬¡â€œå“¨å…µåˆ’åˆ†â€ï¼Œå¾—åˆ°æœªæ’åºçš„å·¦å­æ•°ç»„å’Œå³å­æ•°ç»„ã€‚
2. ç„¶åï¼Œå¯¹å·¦å­æ•°ç»„å’Œå³å­æ•°ç»„åˆ†åˆ«é€’å½’æ‰§è¡Œâ€œå“¨å…µåˆ’åˆ†â€ã€‚
3. æŒç»­é€’å½’ï¼Œç›´è‡³å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢ï¼Œä»è€Œå®Œæˆæ•´ä¸ªæ•°ç»„çš„æ’åºã€‚

```js
function swap(nums, left, right) {
  const temp = nums[left];
  nums[left] = nums[right];
  nums[right] = temp;
}

// å“¨å…µåˆ’åˆ†
function partition(nums, left, right) {
  // ä»¥ nums[left] ä¸ºåŸºå‡†æ•°
  let i = left;
  let j = right;
  while(i < j) {
    // ä»å³å‘å·¦æ‰¾é¦–ä¸ªå°äºåŸºå‡†æ•°çš„å…ƒç´ 
    while (i < j && nums[j] >= nums[left]) {
      j -= 1;
    }
    while (i < j && nums[i] <= nums[left]) {
       // ä»å·¦å‘å³æ‰¾é¦–ä¸ªå¤§äºåŸºå‡†æ•°çš„å…ƒç´ 
      i += 1;
    }
    swap(nums, i, j);
  }
  // å°†åŸºå‡†æ•°äº¤æ¢è‡³ä¸¤å­æ•°ç»„çš„åˆ†ç•Œçº¿
  swap(nums, i, left);
  return i;
}

function quickSort(nums, left, right) {
  // å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’
  if (left >= right) {
    return;
  }
  // å“¨å…µåˆ’åˆ†
  const pviot = partition(nums, left, right);
  // é€’å½’å·¦å³å­æ•°ç»„
  quickSort(nums, left, pviot - 1);
  quickSort(nums, pviot + 1, right);
}

const arr = [12,4,6,2,1,88];
quickSort(arr, 0, 3);
console.log(arr); // [ 2, 4, 6, 12, 1, 88 ]
```

## å¿«æ’åº”ç”¨ï¼šå¯»æ‰¾ç¬¬Kå¤§å…ƒç´ 

æ¯è¿›â¾â¼€æ¬¡å¿«é€Ÿæ’åºçš„ partition æ“ä½œï¼Œå°±èƒ½æ‰¾åˆ°è¿™æ¬¡æˆ‘ä»¬é€‰ä¸­çš„åŸºå‡†å€¼æ’åºä¹‹åçš„æ­£ç¡®ä½ç½®ã€‚

å¦‚æœå®ƒçš„ä½ç½®åˆšå¥½æ˜¯æ’åºä¹‹åç¬¬ K ä¸ªæœ€â¼¤å…ƒç´ çš„ä½ç½®ï¼Œå³ length - kï¼Œæˆ‘ä»¬ç›´æ¥å¾—åˆ°äº†ç­”æ¡ˆï¼›å› ä¸ºè¿›â¾ partition æ“ä½œä¹‹åï¼Œä½äºåŸºå‡†å€¼ä¹‹å‰çš„å…ƒç´ éƒ½è¦â¼©äºåŸºå‡†å€¼ï¼Œä½äºåŸºå‡†å€¼ä¹‹åçš„å…ƒç´ éƒ½è¦â¼¤äºç­‰äºåŸºå‡†å€¼ã€‚

- å¦‚æœå®ƒçš„ä½ç½®â¼©äºæ’åºä¹‹åç¬¬ K ä¸ªæœ€â¼¤å…ƒç´ çš„ä½ç½®ï¼Œæˆ‘ä»¬å°±å»å®ƒä¹‹åå¯»æ‰¾ç¬¬ K ä¸ªæœ€â¼¤å…ƒç´ ï¼›
- å¦‚æœå®ƒçš„ä½ç½®â¼¤äºæ’åºä¹‹åç¬¬ K ä¸ªæœ€â¼¤å…ƒç´ çš„ä½ç½®ï¼Œæˆ‘ä»¬å°±å»å®ƒä¹‹å‰å¯»æ‰¾ç¬¬ K ä¸ªæœ€â¼¤å…ƒç´ ï¼›

```js


function swap(nums, left, right) {
  const temp = nums[left];
  nums[left] = nums[right];
  nums[right] = temp;
}

// å“¨å…µåˆ’åˆ†
function partition(nums, left, right) {
  let i = left;
  let j = right;
  while(i < j) {
    while (i < j && nums[j] >= nums[left]) {
      j -= 1;
    }
    while (i < j && nums[i] <= nums[left]) {
      i += 1;
    }
    swap(nums, i, j);
  }
  swap(nums, i, left);
  return i;
}

function quickSort(nums, k, left, right) {
  const tagIndex = nums.length - k;
  if (left < right) {
    const pviot = partition(nums, left, right);
    if (pviot === tagIndex) {
      return nums[tagIndex];
    }
    quickSort(nums, k, left, pviot - 1);
    quickSort(nums, k, pviot + 1, right);
  }
  return nums[tagIndex];

  // æˆ–è€…è¿™æ ·å†™
  // if (left >= right) {
  //   return nums[tagIndex];
  // }
  // const pviot = partition(nums, left, right);
  // if (pviot === tagIndex) {
  //   return nums[tagIndex];
  // }
  // quickSort(nums, k, left, pviot - 1);
  // quickSort(nums, k, pviot + 1, right);
  // return nums[tagIndex];
}

const arr = [1, 5, 3, 9, 6, 4, 2];
const res = quickSort(arr, 3, 0, arr.length - 1);
console.log(res); // 5
```

[å¿«æ’æŸ¥æ‰¾ç¬¬kå¤§å…ƒç´ ï¼Œo(n)](https://leetcode.cn/problems/kth-largest-element-in-an-array/solutions/1315936/kuai-pai-cha-zhao-di-kda-yuan-su-on-by-h-hb9s/)