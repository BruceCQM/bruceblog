# 招商银行城市服务应用项目面试问答

## 1. 技术架构相关

### Q: 为什么选择 Taro 作为跨端框架？
A: 我们选择 Taro 主要有以下几个考虑：
1. 项目需要同时支持 H5 和小程序，Taro 提供了统一的开发体验
2. 从 package.json 可以看到，项目使用了大量 @mu 开头的组件库，这些组件都是基于 Taro 开发的
3. Taro 的生态系统完善，特别是在金融领域有较多实践案例
4. 团队之前有 Taro 的使用经验，可以快速上手

### Q: 项目中使用了 MobX 进行状态管理，为什么选择 MobX 而不是 Redux？
A: 从项目配置来看，选择 MobX 的原因：
1. MobX 的学习曲线相对平缓，团队更容易上手
2. MobX 的代码更简洁，不需要写大量的模板代码
3. MobX 的响应式设计更适合处理复杂的业务逻辑
4. 项目规模适中，不需要 Redux 那么严格的状态管理

## 2. 性能优化相关

### Q: 项目中使用了哪些性能优化措施？
A: 从项目配置来看，我们实施了以下优化：
1. 使用 preload-webpack-plugin 进行资源预加载
2. 集成了 webpack-bundle-analyzer 进行包体积分析
3. 使用 vconsole-webpack-plugin 进行性能监控
4. 从 index.html 可以看到，我们对关键资源进行了预连接（preconnect）
5. 实现了响应式设计，通过动态计算根元素字体大小来适配不同屏幕

### Q: 在多端适配过程中，遇到过哪些性能问题？是如何解决的？
A: 主要遇到以下问题：
1. H5 端首屏加载慢
   - 解决方案：使用资源预加载和预连接
   - 实现关键资源的优先加载
   - 优化资源加载顺序

2. 小程序端包体积过大
   - 解决方案：使用 webpack-bundle-analyzer 分析包体积
   - 优化依赖引入方式
   - 实现按需加载

## 3. 工程化相关

### Q: 项目的构建流程是怎样的？
A: 从 package.json 的 scripts 配置可以看出：
1. 使用 madp-cli 进行构建，支持多端构建（h5、weapp、alipay、swan、tt等）
2. 实现了多环境配置（dev、st1、st2、prod）
3. 使用 cross-env 处理跨平台环境变量
4. 集成了代码规范工具（eslint、commitlint）
5. 使用 husky 和 lint-staged 进行提交前检查

### Q: 如何管理多端的代码复用？
A: 主要通过以下方式：
1. 使用 components 目录存放公共组件
2. 使用 utils 目录存放公共工具函数
3. 使用 styles 目录管理公共样式
4. 使用 config 目录统一管理配置
5. 使用 store 目录管理状态

## 4. 业务实现相关

### Q: 项目中最大的技术难点是什么？
A: 从项目依赖可以看出几个主要难点：
1. 多端适配：需要处理不同平台（H5、小程序）的差异
2. 生物认证：集成了 @mu/biometrics、@mu/tarosdk-mu-bio-auth 等生物认证组件
3. 支付相关：包含 @mu/channel-repay-services、@mu/overdue-repay-services 等支付服务
4. 协议签署：使用 @mu/agreement 和 @mu/agreement-new 处理协议签署
5. 数据安全：需要处理用户敏感信息，确保安全性

### Q: 如何保证与招商银行系统的数据安全传输？
A: 主要措施：
1. 使用 HTTPS 进行数据传输
2. 实现数据加密传输
3. 使用专门的支付服务组件
4. 实现完整的错误处理机制
5. 添加数据校验和防重放机制

## 5. 代码质量相关

### Q: 如何保证代码质量？
A: 从项目配置可以看出以下措施：
1. 使用 ESLint 进行代码规范检查，配置了 airbnb 规范
2. 使用 husky 进行 git hooks 管理
3. 使用 commitlint 规范提交信息
4. 使用 lint-staged 确保提交的代码符合规范
5. 使用 TypeScript 相关工具进行类型检查

### Q: 如何处理代码冲突？
A: 主要通过以下方式：
1. 使用 Git Flow 工作流
2. 定期同步主分支代码
3. 代码审查机制
4. 自动化测试保证
5. 完善的文档记录

## 6. 安全相关

### Q: 如何保证数据安全？
A: 从项目实现来看：
1. 使用 @mu/basic-library 提供基础安全库
2. 生物认证使用 @mu/biometrics 和 @mu/tarosdk-mu-bio-auth
3. 支付相关使用专门的支付服务组件
4. 协议签署使用专门的协议组件
5. 使用 HTTPS 进行数据传输

### Q: 如何防止 XSS、CSRF 等安全攻击？
A: 主要措施：
1. 输入数据验证和转义
2. 使用 CSRF Token
3. 设置安全的 Cookie 属性
4. 实现请求签名机制
5. 定期安全审计

## 7. 项目亮点相关

### Q: 项目最大的亮点是什么？
A: 从项目整体来看：
1. 完整的跨端解决方案：支持 H5、微信小程序、支付宝小程序、百度小程序等多端
2. 完善的工程化体系：包含构建、测试、代码规范等完整流程
3. 丰富的业务组件：集成了大量金融业务相关的组件
4. 安全性考虑周全：包含生物认证、支付安全、协议签署等安全措施
5. 性能优化全面：包含资源预加载、性能监控、响应式设计等

### Q: 如果让你重新设计这个项目，会做哪些改进？
A: 主要改进点：
1. 引入微前端架构，提高代码复用性
2. 使用 TypeScript 重构，提高代码可维护性
3. 引入自动化测试，提高代码质量
4. 优化构建流程，提高构建效率
5. 完善监控系统，提高系统稳定性 